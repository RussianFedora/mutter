From bb79a20fac05b1412eb4225e780d3dbcf45ebb6d Mon Sep 17 00:00:00 2001
From: "Jasper St. Pierre" <jstpierre@mecheye.net>
Date: Tue, 14 Oct 2014 22:19:57 -0700
Subject: [PATCH] display: Fix accidental inversion from 2f9c601

Commit 2f9c601 accidentally changed the logic here, changing the grab
behavior when not using raise-on-click. Fix this.

Spotted-by: Adam Goode <adam@spicenitz.org>
---
 src/core/display.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/core/display.c b/src/core/display.c
index 4669593..185452b 100644
--- a/src/core/display.c
+++ b/src/core/display.c
@@ -1965,7 +1965,7 @@ meta_display_end_grab_op (MetaDisplay *display,
        * beginning of the grab_op.
        */
       if (!meta_prefs_get_raise_on_click () &&
-          display->grab_threshold_movement_reached)
+          !display->grab_threshold_movement_reached)
         meta_window_raise (display->grab_window);
 
       meta_window_grab_op_ended (grab_window, grab_op);
-- 
2.1.0

